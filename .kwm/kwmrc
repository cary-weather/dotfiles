// See https://koekeishiya.github.io/kwm/kwmc.html

////////// Constants ////////////

define mod1 rcmd
define mod2 rcmd+shift

define screen1 2
define screen2 0
define screen3 1

////////// Rules ////////////

kwmc rule owner="Finder" properties={role="AXDialog"}
kwmc rule owner="Finder" role="AXDialog" properties={float="true"}

// IntelliJ
kwmc rule name="Welcome to IntelliJ IDEA" properties={float="true"}
kwmc rule name="New Project" properties={float="true"}
kwmc rule name="New Directory" properties={float="true"}
kwmc rule name="Evaluate Expression" properties={float="true"}
kwmc rule name="Files Merged with Conflicts" properties={float="true"}
kwmc rule name="Run/Debug Configurations" properties={float="true"}
kwmc rule name="Preferences" properties={float="true"}
kwmc rule name="Project Structure" properties={float="true"}

////////// Configuration ////////////

// Set default values for screen padding
kwmc config padding 0 0 0 0

// Set focus-follows-mouse-mode to autoraise
kwmc config focus-follows-mouse on

// The mouse will automatically move to the center of the focused window
// TODO: Moving the mouse between screens moves the mouse to the center of a window.
kwmc config mouse-follows-focus on

// Focus-follows-mouse is temporarily disabled when a floating window has focus
kwmc config standby-on-float on

// Automatically resize the window to its container
kwmc config lock-to-container off

// Allow window focus to wrap-around
kwmc config cycle-focus on

////////// Key Bindings ////////////

// Give focus to screen
kwmc bindsym mod1-w display -f screen1
kwmc bindsym mod1-e display -f screen2
kwmc bindsym mod1-r display -f screen3

// Move Focused Window To Screen
kwmc bindsym mod2-w window -m display screen1
kwmc bindsym mod2-e window -m display screen2
kwmc bindsym mod2-r window -m display screen3

// Modify Container
kwmc bindsym mod1-space window -c split-mode toggle
kwmc bindsym mod1-h window -c reduce 0.05
kwmc bindsym mod1-l window -c expand 0.05
kwmc bindsym mod1-t window -c type toggle

// Rotate Window-Tree By 90degrees (Clockwise)
kwmc bindsym mod1-space tree rotate 90

// Resize all windows to their container size
kwmc bindsym mod2-space space -r focused

// Give Focus To Window
kwmc bindsym mod1-k window -f prev
kwmc bindsym mod1-j window -f next

// Swap Window Position
kwmc bindsym mod2-k window -s prev
kwmc bindsym mod2-j window -s next

// Move Between Spaces
kwmc space -fExperimental left mod1-,
kwmc space -fExperimental right mod1-.

// Move Window to Space
kwmc bindsym mod2-, window -m space left
kwmc bindsym mod2-. window -m space right

// Toggle fullscreen zoom
kwmc bindsym mod1-z window -z fullscreen

// Toggle floating
kwmc bindsym mod2-t window -t focused
